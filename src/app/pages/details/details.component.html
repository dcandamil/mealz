<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button defaultHref="/"></ion-back-button>
        </ion-buttons>
        <ion-title>
            {{ meal?.strMeal || 'Meal Details' }}
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content *ngIf="meal">
    <div class="image-container">
        <img [src]="meal.strMealThumb" alt="{{ meal.strMeal }}" class="meal-image" />
        <div class="gradient-overlay"></div>
    </div>
    <div class="px-4 py-6">
        <h1 class="text-3xl font-bold mb-2">{{ meal.strMeal }}</h1>
        <p><strong>Category:</strong> {{ meal.strCategory }}</p>
        <p><strong>Area:</strong> {{ meal.strArea }}</p>
        <p><strong>Instructions:</strong></p>
        <p class="text-justify">{{ meal.strInstructions }}</p>
    </div>
</ion-content>

<button
    class="absolute bottom-0 px-4 py-2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-lime-300 text-black font-medium w-48 rounded-md ion-activatable ripple-parent rounded-rectangle"
    (click)="openModal()">
    <ion-ripple-effect></ion-ripple-effect>
    üç± Ingredients
</button>

<ion-modal [isOpen]="isModalOpen" (willDismiss)="onWillDismiss($event)">
    <ng-template>
        <ion-header>
            <ion-toolbar>
                <ion-title>Ingredients</ion-title>
                <ion-buttons slot="end">
                    <ion-button (click)="closeModal()">
                        <ion-icon name="close-outline"></ion-icon>
                    </ion-button>
                </ion-buttons>
            </ion-toolbar>
        </ion-header>
        <ion-content>
            <div class="p-4">
                <h2 class="text-2xl font-bold mb-4">{{ meal?.strMeal }}</h2>
                <ul class="list-disc list-inside">
                    <li *ngFor="let ingredient of ingredients">{{ ingredient }}</li>
                </ul>
            </div>
        </ion-content>
    </ng-template>
</ion-modal>
